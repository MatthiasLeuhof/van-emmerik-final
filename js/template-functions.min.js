$(document).ready(function(){"use strict";var e=".header",a=".header-animated",i=".header-sticky",t=".header-background",n=".header-compact",o=".header-in",s=".header-out",r=".header-positioned",l="#bkg-retina-img, #retina-img, [data-2x]",d=".equalize",c=".fullscreen-sections-wrapper",h=".fullscreen-section",u=".scroll-link",f=1e3,p="easeInOutQuart",m=.6,g=".grid-container",v=".grid-item, .masonry-stamp",w=".grid-filter-menu",C="700ms",y="700ms",x=!1,b=[".video-container iframe",".video-container object"],S=["www.youtube.com","player.vimeo.com"],k=".mejs-container audio, .mejs-container video",z=".carousel-slider",T=".content-slider",P=".previous-content-slider",O=".next-content-slider",I=".tm-slider-container.fullscreen",H=".previous-fullscreen-slider",M=".next-fullscreen-slider",A=".full-width-slider",L=".previous-full-width-slider",D=".next-full-width-slider",F=".logo-slider",j=".hero-slider",E=".testimonial-slider",W=".previous-testimonial-slider",q=".next-testimonial-slider",V=".testimonial-slider-aux-nav .api-button",R=".team-slider",Q=".previous-team-slider",N=".next-team-slider",U=".recent-slider",_=".previous-recent-slider",B=".next-recent-slider",Z="#tm-lightbox",J=".lightbox-link",Y=".form-element",G=".form-response",X=".form-honeypot",K=".form-submit",ea=".signup-form",aa=".required-field",ia="Please wait.",ta="Sending...",na="You have been added to our list!",oa="Oh boy an error occurred, please try again.",sa="Please fill out required fields.",ra="Please enter a valid email address.",la=".contact-form",da=".required-field",ca="Please wait.",ha="Sending...",ua="Thank you, your email has been received!",fa="Oh boy an error occurred, please try again.",pa="Please fill out required fields.",ma="Please enter a valid email address.",ga=".map-container",va=".map-pan-link-container",$a=".map-pan-link",wa=["images/assets/map-marker.png","images/assets/map-marker-2.png"],Ca=[[40.723301,-74.002988]],ya=["Downtown New York Office<br>44 St. West 32"],xa=45,ba=53,Sa=12,ka=!1,za=!1,Ta=!1,Pa=!0,Oa=!0,Ia=!1,Ha=!0,Ma=".content",Aa=".footer-fixed",La=".footer",Da=!0,Fa="body",ja=".fade-location, .logo a, .footer-logo a, .navigation a, .side-navigation a, .overlay-navigation a, .grid .overlay-link, .post-media .overlay-link, .post-title a, .post-read-more a, .pagination-previous, .pagination-next, .breadcrumb a, a.read-more",Ea=".no-page-fade, .mail-link, .lightbox-link, .contains-sub-menu, .blog .pagination-previous, .blog .pagination-next, .disabled, .scroll-link, .navigation-show a, a.navigation-show",Wa="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",qa={init:function(){$(Fa).removeClass("no-js"),qa.siteHeader(),qa.retinize(),qa.equalize(768),qa.parallax(".parallax.fixed-height",!0,!1,!0),qa.parallax(".parallax.fullscreen",!0,!0,!0),qa.fullScreenSection(),qa.masonry(),qa.logoSlider(),qa.heroSlider(),qa.testimonialSlider(),qa.teamSlider(),qa.recentSlider(),qa.carouselSlider(),qa.contentSlider(),qa.fullScreenSlider(),qa.fullWidthSlider(),qa.lightbox(),qa.counter(".stat",".stat-counter",!1),qa.horizon(".horizon",".parallax .horizon","easeInOutQuint",!0,0),qa.videos(),qa.mediaElement(),qa.signupForm(),qa.contactForm(),qa.enablePlaceHolder();try{document.getElementsByClassName("map-canvas")&&google.maps.event.addDomListener(window,"load",qa.googleMap)}catch(e){}qa.fixedFooter(),qa.pageFade(),qa.scrollToSection(),$("body").hasClass("preload-page")&&qa.preloadPage()},retinize:function(){$(l).retinizeImages()},equalize:function(e){imagesLoaded($(d),function(){$(d).equalizeHeights({clearUnder:e})})},parallax:function(e,a,i,t){$(e).snowBridge({scaleContainer:a,scaleUnder:960,scaleMinHeight:400,fullscreen:i,fadeInOut:t,fadeThreshold:.5,retinaSupport:!1,parallaxFactor:.6,onLoaded:function(){qa.horizon(".horizon","","easeInOutQuint",!1,1)}})},horizon:function(e,a,i,t,n){return $("body").hasClass("preload-page")?!1:void $(e).not(a).horizon({easing:i,recurring:t,threshold:n})},counter:function(e,a,i){$(a).counter({autoStart:!1}),$(e).each(function(){var e=$(this);e.horizon({recurring:i,inView:function(){return e.find(a).data("counting")?!1:void e.find(a).each(function(){e.find(a).data("counting",!0);var i=$(this).data("counter");i.startCounter()})},outOfView:function(){return i&&e.find(a).data("counting")?void e.find(a).each(function(){e.find(a).data("counting",!1);var i=$(this).data("counter");i.clearCounter()}):!1}})})},carouselSlider:function(){$(z).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:3,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},contentSlider:function(){$(T).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,scaleMinHeight:"auto",lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var e=$(T).data("avalancheSlider");$(P).on("click",function(a){a.preventDefault(),e.prevSlide()}),$(O).on("click",function(a){a.preventDefault(),e.nextSlide()})},fullScreenSlider:function(){$(I).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,fullscreen:!0,captionScaling:!1,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,respectRatio:!1,retinaSupport:!1});var e=$(I).data("avalancheSlider");$(H).on("click",function(a){a.preventDefault(),e.prevSlide()}),$(M).on("click",function(a){a.preventDefault(),e.nextSlide()})},fullWidthSlider:function(){$(A).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,fullwidth:!0,scaleUnder:960,scaleMinHeight:400,captionScaling:!0,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,respectRatio:!1,retinaSupport:!1});var e=$(A).data("avalancheSlider");$(L).on("click",function(a){a.preventDefault(),e.prevSlide()}),$(D).on("click",function(a){a.preventDefault(),e.nextSlide()})},logoSlider:function(){$(F).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!0,carousel:!0,carouselVisible:5,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,showProgressBar:!1,navShowOnHover:!1,retinaSupport:!1})},heroSlider:function(){$(j).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:1,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},testimonialSlider:function(){$(E).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:1,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var e=$(E).data("avalancheSlider");$(W).on("click",function(a){a.preventDefault(),e.prevSlide()}),$(q).on("click",function(a){a.preventDefault(),e.nextSlide()}),$(V).each(function(){$(this).on("click",function(a){a.preventDefault();var i=$(this).data("slide");e.slideTo(i),$(V).removeClass("active"),$(this).addClass("active")})})},teamSlider:function(){$(R).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,carousel:!0,carouselVisible:3,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var e=$(R).data("avalancheSlider");$(Q).on("click",function(a){a.preventDefault(),e.prevSlide()}),$(N).on("click",function(a){a.preventDefault(),e.nextSlide()})},recentSlider:function(){$(U).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,carousel:!0,carouselVisible:3,carouselScaleHeight:!0,lazyLoad:!0,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var e=$(U).data("avalancheSlider");$(_).on("click",function(a){a.preventDefault(),e.prevSlide()}),$(B).on("click",function(a){a.preventDefault(),e.nextSlide()})},lightbox:function(){$(J).summitLightbox({lightboxAnimation:"slideInTop",contentAnimation:"slide",slideAmount:100,easing:"swing",speed:350,onLoaded:function(){var e=$(Z).find(".tml-aux-exit");if(0===e.length)return!1;var a=$(J).data("summitLightbox");e.on("click",function(e){e.preventDefault(),$(this).css({transition:"none"}),a.destroyLightbox()})}})},videos:function(){fluidvids.init({selector:b,players:S})},mediaElement:function(){$(k).each(function(){var e=!1;$(this).is("audio")&&(e=!0),$(this).mediaelementplayer({features:e?["playpause","progress","volume","fullscreen"]:["playpause","progress","current","duration","tracks","volume","fullscreen"],videoWidth:"100%",videoHeight:"100%",audioWidth:"100%",videoVolume:"vertical",audioVolume:"horizontal"})})},siteHeader:function(){function l(){d=$(window).width(),c=$(window).height(),h=Math.ceil(y.outerHeight()),u="window-height"===y.data("bkg-threshold")?c-h:y.data("bkg-threshold"),f="window-height"===y.data("compact-threshold")?c-h:y.data("compact-threshold"),p="window-height"===y.data("sticky-threshold")?c-h:y.data("sticky-threshold"),m=y.data("helper-in-threshold"),g=y.data("helper-out-threshold")}var d,c,h,u,f,p,m,g,v,w=0,C=960,y=$(e),x=y.is("[data-sticky-threshold]")?!0:!1;a=a.split(".").join(""),i=i.split(".").join(""),t=t.split(".").join(""),n=n.split(".").join(""),o=o.split(".").join(""),s=s.split(".").join(""),r=r.split(".").join("");var b=function(a){return $("body").hasClass("mobile")||C>d?!1:(p&&$(a).scrollTop()>=p||0===p?($(e).addClass(i),m&&g&&$(e).addClass(r)):($(e).removeClass(i),m&&g&&$(e).removeClass(r)),u&&$(a).scrollTop()>=u?$(e).addClass(t):$(e).removeClass(t),f&&$(a).scrollTop()>=f?$(e).addClass(n):$(e).removeClass(n),v=$(a).scrollTop(),v>w?(m&&$(a).scrollTop()>=m&&$(e).addClass(o),$(e).removeClass(s)):w>v&&(m&&$(a).scrollTop()<=m&&($(e).removeClass(o),$(e).removeClass(s)),!m||$(a).scrollTop()<m||$(a).scrollTop()>g||($(e).addClass(s),$(s).on(Wa,function(i){return i.stopPropagation(),i.target!==$(a)[0]?!1:void $(e).removeClass(s)}))),void(w=v))},S=function(){return l(),$("body").hasClass("mobile")?!1:(d>C&&x&&y.css({height:y.outerHeight()+"px"}),d>C&&$(window).scrollTop()>=p?($(e).addClass(i),m&&g&&$(e).addClass(r)):($(e).removeClass(i),m&&g&&$(e).removeClass(r)),d>C&&$(window).scrollTop()<u?$(e).removeClass(t):d>C&&$(window).scrollTop()>u&&$(e).addClass(t),d>C&&$(window).scrollTop()<f?$(e).removeClass(n):d>C&&$(window).scrollTop()>f&&$(e).addClass(n),void(C>d&&$(e).removeClass(n)))};$(window).on("scroll",function(){b($(this))}),$(window).on("resize",function(){S()}),$("body").hasClass("mobile")||$(window).one("load",function(){l(),b($(this)),d>C&&x&&y.css({height:h+"px"}),$(e).addClass(a)})},fullScreenSection:function(){var e=function(){var e;if($(c).find(h).length>1){if($("body").hasClass("mobile"))return!1;var a,i=$(c).hasClass("no-navigation")?!1:!0;if(i){a=$("<div>").addClass("fs-pagination").appendTo($(c));for(var t=1;t<$(c).children().length;t++)e=$(c).children().eq(t-1).attr("id"),$(c).find("#"+e).data("index",t),$(c).find(a).append('<a href="#'+e+'" id="fs-pagination-'+t+'" data-index="'+t+'" class="fs-bullet-nav" />');$(window).on("resize",function(){n()});var n=function(){$(a).css({marginTop:-$(a).outerHeight()/2+"px",opacity:1})};n();var o=$(c).find(".fs-bullet-nav");o.each(function(){$(this).on("click",function(a){if(a.preventDefault(),$(this).hasClass("active"))return!1;parseFloat($(this).data("index"));e=$(this).attr("href"),qa.scrollPage(e,0)})})}$(window).on("scroll",function(){$(c).find(h).each(function(){s($(this))})});var s=function(e){e.data("fs-scrolling")||(window.requestAnimationFrame(function(){r(e)}),e.data("fs-scrolling",!0))},r=function(e){if(qa.isElementVisible(e,m)&&i){$(a).css({opacity:1});var t=$(c).find(e).data("index");a.find(".active").removeClass("active"),a.find("#fs-pagination-"+t).addClass("active"),e.hasClass("nav-dark")?a.addClass("nav-dark"):a.removeClass("nav-dark")}$(a).css(i&&qa.isElementVisible($(c),m)?{opacity:1,visibility:"visible"}:{opacity:0,visibility:"hidden"}),e.data("fs-scrolling",!1)};$(c).find(h).each(function(){s($(this))})}},a=function(){$(h).each(function(){var e=$(this),a=e.find(".background-image, .background-slider-wrapper");if($(this).is("[data-width],[data-height]"))if($("body").hasClass("mobile")||768>=i){e.addClass("fs-image-scale content-below-on-mobile");var n=e.data("width"),o=e.data("height"),s=e.data("min-height"),r=e.width(),l=o>n?o/n:n/o,d=o>n?r*l:r/l;d=s&&s>=d?s:d,e.css({height:"auto"}),a.css({height:d+"px",minHeight:d+"px"})}else e.removeClass("fs-image-scale"),e.css({height:""}),a.css({height:"",minHeight:""});else $("body").hasClass("mobile")||768>=i?a.css({height:t+"px"}):(e.removeClass("fs-image-scale"),e.css({height:""}),a.css({height:"",minHeight:""}))})},i=$(window).width(),t=$(window).height();$(window).on("resize",function(){i=$(window).width(),t=$(this).height(),a()}).resize(),e()},scrollToSection:function(){var e=[];$(u).each(function(){e.push($(this).attr("href")),$(this).on("click",function(e){e.preventDefault();var a=$(this).attr("href"),i=$(this).data("offset")?$(this).data("offset"):0;qa.scrollPage(a,i)})}),$(window).one("load",function(){$.each(e,function(e,i){a($(i))})}),$(window).on("scroll",function(){$.each(e,function(e,i){a($(i))})});var a=function(e){e.data("section-scrolling")||(window.requestAnimationFrame(function(){i(e)}),e.data("section-scrolling",!0))},i=function(e){if(qa.isElementVisible(e,m)){var a=e.attr("id"),i=$('a[href="#'+a+'"]').closest("header, .side-navigation-wrapper, .overlay-navigation-wrapper");i&&($('a[href="#'+a+'"]').closest("header, .side-navigation-wrapper, .overlay-navigation-wrapper").find(u).parent().removeClass("current"),$('a[href="#'+a+'"]').parent().addClass("current"))}e.data("section-scrolling",!1)}},isElementVisible:function(e,a){if(a=e.is("[data-visible-threshold]")?e.data("visible-threshold"):m,void 0===e.offset())return console.log("template-functions.js@isElementVisible: "+e.selector+" cannot be found in your html page."),!1;var i=$(window).height(),t=$(window).scrollTop(),n=t+$(window).height(),o=e.offset().top,s=(e.height(),o+e.outerHeight()-i*a),r=o+i*a;return e.is($(c))||(r>n||t>s?e.removeClass("in-view"):e.addClass("in-view")),n>=r&&s>=t},scrollPage:function(e,a){$("html, body").animate({scrollTop:$(e).offset().top+a},f,p)},masonry:function(){$(g).each(function(){var e,a,i=$(this),t=$(this).find(".grid"),n=$(i).data("default-filter")?$(i).data("default-filter"):"*";if("*"!==n&&($(w).find(".active").removeClass("active"),$(w).find('[data-filter="'+n+'"]').addClass("active")),i.data("layout-mode")){e=i.data("layout-mode")?i.data("layout-mode"):"masonry",i.is("[data-layout-mode]")&&i.addClass("masonry"),i.is("[data-set-dimensions]")&&i.addClass("masonry-set-dimensions"),x=i.is("[data-animate-resize]")?!0:!1,y=i.is("[data-animate-resize-duration]")?i.data("animate-resize-duration")+"ms":y,i.is(".masonry-set-dimensions, .masonry-set-dimensions-2")?(i.is(".full-width.no-margins")&&qa.masonryWrapperWidth(i,t),a=qa.masonryColWidth(i,t),qa.masonryThumbSizes(i,t,qa.masonryColWidth(i,t))):a=".grid-sizer";var o=$('<div class="tm-loader"><div id="circle" /></div>');o.appendTo(i),imagesLoaded(t,function(){t.isotope({filter:n,itemSelector:".grid-item",isResizeBound:x?!0:!1,transitionDuration:C,layoutMode:e,stamp:".masonry-stamp",masonry:{columnWidth:a}}),i.find(o).remove(),t.css({visibility:"visible",minHeight:"initial"});var s=t.children().length-1;$("body").hasClass("transition-support")||i.removeClass("fade-in-progressively"),t.children().each(function(e){$(this).delay(100*e).animate({opacity:1},500,"easeInOutQuart",function(){e===s&&i.removeClass("fade-in-progressively")})}),$(window).on("resize",function(){i.is(".full-width.no-margins")&&qa.masonryWrapperWidth(i,t),qa.masonryThumbSizes(i,t,qa.masonryColWidth(i,t)),x?t.isotope({transitionDuration:y,masonry:{columnWidth:".grid-sizer"!==a?qa.masonryColWidth(i,t):".grid-sizer"}}):(t.removeClass("filtering"),t.isotope({transitionDuration:0,masonry:{columnWidth:".grid-sizer"!==a?qa.masonryColWidth(i,t):".grid-sizer"}}).isotope("layout").isotope({transitionDuration:y}))})})}else t.css({visibility:"visible"})}),$(w).each(function(){var e,a;$(this).find("a").on("click",function(i){i.preventDefault(),$(this).closest(w).find(".active").removeClass("active"),$(this).addClass("active"),e=$(this).closest(w).data("target-grid")?$(this).closest(w).data("target-grid"):g,C=$(e).is("[data-animate-filter-duration]")?$(e).data("animate-filter-duration")+"ms":C,e=$(e).find(".grid"),e.isotope({transitionDuration:C}),a=$(this).attr("data-filter"),$(e).addClass("filtering").isotope({filter:a})}),$(this).find("a").each(function(){if(e=$(this).closest(w).data("target-grid")?$(this).closest(w).data("target-grid"):g,a="*"!=$(this).data("filter")?$(this).data("filter"):".grid-item",$(this).find(".project-count").length>0){var i=$(e).find(a).length;$(this).find(".project-count").html(i)}})})},masonryWrapperWidth:function(e,a){var i=Math.ceil(1.001*e.width());a.css({maxWidth:i+"px",width:i+"px"})},masonryColWidth:function(e,a){var i,t=$(window).width(),n=Math.ceil(e.width()),o=e.is(".full-width.no-margins")?Math.ceil(1.001*n):a.width();return e.is(".full-width.small-margins, .full-width.no-margins")?(a.hasClass("content-grid-2")&&(i=480>t?o/1:o/2),a.hasClass("content-grid-3")&&(i=t>768?o/3:768>=t&&t>480?o/2:o/1),a.hasClass("content-grid-4")&&(i=t>1140?o/4:1140>=t&&t>768?o/3:768>=t&&t>480?o/2:o/1),a.hasClass("content-grid-5")&&(i=t>1300?o/5:1300>=t&&t>1140?o/4:t>1140||768>t?768>=t&&t>480?o/2:o/1:o/3),a.hasClass("content-grid-6")&&(i=t>1300?o/6:1300>=t&&t>1140?o/4:t>1140||768>t?768>=t&&t>480?o/2:o/1:o/3)):(a.hasClass("content-grid-2")&&(i=600>t?o/1:o/2),a.hasClass("content-grid-3")&&(i=t>960?o/3:960>=t&&t>600?o/2:o/1),a.hasClass("content-grid-4")&&(i=t>1140?o/4:1140>=t&&t>960?o/3:960>=t&&t>600?o/2:o/1),a.hasClass("content-grid-5")&&(i=t>1300?o/5:1300>=t&&t>1140?o/4:1140>=t&&t>960?o/3:960>=t&&t>600?o/2:o/1),a.hasClass("content-grid-6")&&(i=t>1300?o/6:1300>=t&&t>1140?o/4:1140>=t&&t>960?o/3:960>=t&&t>600?o/2:o/1)),i=Math.floor(i)},masonryThumbSizes:function(e,a,i){var t,n=$(window).width(),o=2,s=$(".masonry-set-dimensions").hasClass("no-margins")?0:parseFloat(a.find(".grid-item").css("padding-left")),r=e.is(".masonry-set-dimensions")?e.is("[data-grid-ratio]")?parseFloat(e.data("grid-ratio")):1.5:1;if(t=Math.floor((i-s)/r+s),e.is(".masonry-set-dimensions")){var l=e.is(".full-width.small-margins, .full-width.no-margins")?480:600;a.find(v).each(function(){$(this).css($(this).is(".large, .masonry-stamp.large")?$(this).is(".portrait, .masonry-stamp.portrait")?{width:n>l?Math.floor(i*o)+"px":i+"px",height:n>l?Math.floor(2*t*o)+"px":2*t+"px"}:{width:n>l?Math.floor(i*o)+"px":i+"px",height:n>l?Math.floor(t*o)+"px":t+"px"}:$(this).is(".wide, .masonry-stamp.wide")?{width:n>l?Math.floor(i*o)+"px":i+"px",height:n>l?t+"px":t/2+"px"}:$(this).is(".portrait, .masonry-stamp.portrait")?{width:i+"px",height:Math.floor(t*o)+"px"}:{width:i+"px",height:t+"px"})})}e.is(".masonry-set-dimensions-2")&&a.find(v).each(n>600?function(){$(this).hasClass("horizontal")?$(this).hasClass("two-third")?$(this).children(".item-description").length?$(this).css({width:Math.floor(i*(o+1))+"px",height:Math.floor(t)+"px"}):$(this).addClass("no-description").css({width:Math.floor(i*o)+"px",height:Math.floor(t)+"px"}):$(this).css({width:Math.floor(i*o)+"px",height:Math.floor(t)+"px"}):$(this).css($(this).hasClass("vertical")?$(this).hasClass("two-third")?$(this).children(".item-description").length?{width:i+"px",height:Math.floor(i*(o+1))+"px"}:{width:i+"px",height:Math.floor(t*o)+"px"}:{width:i+"px",height:Math.floor(t*o)+"px"}:{width:i+"px",height:Math.floor(t)+"px"})}:function(){$(this).css($(this).find("iframe, video, .tm-slider-container").length?{width:i+"px",height:t+"px"}:{width:"",height:""})})},signupForm:function(){$(ea).submit(function(e){e.preventDefault();var a=$(this),i=a.parent().find(G),t=a.find(Y),n=a.find('input[type="email"]'),o=a.find(X),s=a.find(K),r=a.attr("action"),l=a.attr("method"),d=a.serialize(),c=!1,h=!1,u=!1;if(aa=aa.split(".").join(""),t.removeClass(aa),t.each(function(){$(this).attr("required")&&($(this).val()||(c=!0,$(this).addClass(aa),i.hide().text(sa).fadeIn(200)))}),c||(h=!0),n.val()&&!qa.isValidEmail(n.val())?(i.hide().text(ra).fadeIn(200),n.addClass(aa)):u=!0,""!==o.val())return!1;if(c&&n.val()&&!qa.isValidEmail(n.val())&&i.hide().text(sa+" "+ra).fadeIn(200),h&&u){var f=$(s).val();$(s).css({width:$(s).outerWidth()+"px"}).val(ta).attr("disabled",!0),i.hide().text(ia).fadeIn(200),$.ajax({url:r,type:l,data:d,dataType:"json"}).done(function(e){try{e.response===!0?(i.text(na),i.delay(1500).fadeOut(200),t.val("")):i.hide().text(e.json.error_message).fadeIn(200)}catch(a){console.log("error in parsing returned ajax data: "+a),i.hide().text("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(e,a,t){console.log("Error occured in processing your request:"),console.log(e),console.log("Text status"),console.log(a),console.log("Error thrown"),console.log(t),console.log("Servre response"),console.log(e.status),console.log("Response Text may contain error output from PHP"),console.log(e.responseText),i.hide().text(oa+a+" ("+t+")").fadeIn(200)}).always(function(){$(s).css({width:""}).val(f).attr("disabled",!1)})}})},contactForm:function(){$(la).submit(function(e){e.preventDefault();var a=$(this),i=a.parent().find(G),t=a.find(Y),n=a.find('input[type="email"]'),o=a.find(X),s=a.find(K),r=a.attr("action"),l=a.attr("method"),d=[],c=encodeURIComponent(a.find("textarea[name=message]").val()+"\n"),h=[];a.find("input:not([type=submit]),select,textarea").each(function(e,a){var i=$(a),t=i.attr("name");if(i.hasClass("form-aux")&&t){var n=i.data("label")||t,o=i.find("option:selected").text(),s=i.val();!s&&i.is("select")?s=n==o?"Not selected":i.find("option:selected").text():"checkbox"!=i.attr("type")||i.prop("checked")||(s="Not checked"),h.push({name:t,label:encodeURIComponent(n),value:encodeURIComponent(s)})}else t&&"message"!=t&&d.push(t+"="+encodeURIComponent(i.val()))});for(var u=0;u<h.length;u++){var f=encodeURIComponent("\n")+h[u].label+"%3A%20"+h[u].value;c+=f}d.push("message="+c),d=d.join("&");var p=!1,m=!1,g=!1;if(da=da.split(".").join(""),t.removeClass(da),t.each(function(){($(this).attr("required")||$(this).children().attr("required"))&&($(this).is(":checkbox")?$(this).is(":checkbox:checked")||(p=!0,$(this).addClass(da)):$(this).children().is("select")?$(this).children().val()==$(this).children().find("option:selected").text()&&(p=!0,$(this).addClass(da)):$(this).val()||(p=!0,$(this).addClass(da)),p&&i.hide().text(pa).fadeIn(200))}),p||(m=!0),n.val()&&!qa.isValidEmail(n.val())?(i.hide().text(ma).fadeIn(200),n.addClass(da)):g=!0,""!==o.val())return!1;if(p&&n.val()&&!qa.isValidEmail(n.val())&&i.hide().text(pa+" "+ma).fadeIn(200),m&&g){var v=$(s).val();$(s).css({width:$(s).outerWidth()+"px"}).val(ha).attr("disabled",!0),i.hide().text(ca).fadeIn(200),$.ajax({url:r,type:l,data:d,dataType:"json"}).done(function(e){try{if(e.response===!0)i.text(ua),i.delay(1500).fadeOut(200),t.val("");else{var a=void 0===e.json.error_message?"There is a possibility that your message was not sent. Please check up the server or script configuration.":e.json.error_message;i.hide().text(fa+" "+a).fadeIn(200)}}catch(n){console.log("error in parsing returned ajax data: "+n),console.log(e),i.hide().text("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(e,a,t){console.log("Error occured in processing your request:"),console.log(e),console.log("Text status"),console.log(a),console.log("Error thrown"),console.log(t),console.log("Servre response"),console.log(e.status),console.log("Response Text may contain error output from PHP"),console.log(qXHR.responseText),i.hide().text(fa+" (Please see the console for error details.)").fadeIn(200)}).always(function(){$(s).css({width:""}).val(v).attr("disabled",!1)})}})},isValidEmail:function(e){var a=RegExp(/^[_\.0-9a-zA-Z-]+@([0-9a-zA-Z][0-9a-zA-Z-]+\.)+[a-zA-Z]{2,6}$/i);return a.test(e)},enablePlaceHolder:function(){$("input, textarea").placeholder()},googleMap:function(){$(ga).each(function(){var e=$(this).children().attr("id");wa=$(this).data("icon")?JSON.parse("["+$(this).data("icon")+"]"):wa,Ca=$(this).data("coordinates")?$(this).data("coordinates"):Ca,ya=$(this).data("info")?JSON.parse("["+$(this).data("info")+"]"):ya,Sa=$(this).data("zoom-level")?parseFloat($(this).data("zoom-level")):Sa,Ha=$(this).data("style")&&"greyscale"===$(this).data("style")?!0:!1;var a=Ha?-100:0,i=$("body").hasClass("mobile")?!1:!0,t={draggable:i,zoom:Sa,center:new google.maps.LatLng(Ca[0][0],Ca[0][1]),mapTypeControl:za,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_RIGHT},panControl:Ta,panControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},zoomControl:Pa,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_TOP},scrollwheel:ka,scaleControl:Oa,streetViewControl:Ia,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},styles:[{stylers:[{saturation:a}]}]},n=new google.maps.Map(document.getElementById(e),t);$(this).children().data("mapref",n);for(var o,s,r=0,l=0;l<Ca.length;l++)o=new google.maps.Marker({position:new google.maps.LatLng(Ca[l][0],Ca[l][1]),map:n,icon:new google.maps.MarkerImage(wa[r],null,null,null,new google.maps.Size(xa,ba))}),s=new google.maps.InfoWindow({content:ya[l]}),google.maps.event.addListener(o,"click",function(e,a){return function(){s.setContent(ya[a]),s.open(n,e)}}(o,l)),r++;google.maps.event.addDomListener(window,"resize",function(){var e=n.getCenter();google.maps.event.trigger(n,"resize"),n.setCenter(e)})}),$($a).each(function(){$(this).data("marker",!1),$(this).on("click",function(e){e.preventDefault();var a,i,t=$("#"+$(this).data("target-map")).data("mapref"),n=$(this).data("coordinates"),o=new google.maps.LatLng(n[0][0],n[0][1]),s=$(this).data("icon")?JSON.parse("["+$(this).data("icon")+"]"):null,r=$(this).data("icon")?JSON.parse("["+$(this).data("info")+"]"):null;t.panTo(o),$(this).data("marker")||($(this).data("icon")&&(a=new google.maps.Marker({position:new google.maps.LatLng(n[0][0],n[0][1]),map:t,icon:new google.maps.MarkerImage(s[0],null,null,null,new google.maps.Size(xa,ba))})),$(this).data("info")&&(i=new google.maps.InfoWindow({content:r[0]}),google.maps.event.addListener(a,"click",function(e){return function(){i.setContent(r[0]),i.open(t,e)}}(a,0))),$(this).data("marker",!0)),$(this).closest(va).hasClass(va.split(".").join(""))&&($(this).closest(va).find(".active").removeClass("active"),$(this).addClass("active"))})})},fixedFooter:function(){function e(){$(La).hasClass(t)&&$(window).width()>960&&$(Ma).css({marginBottom:i+"px"}),$(La).is("[data-animate-reveal]")&&(a=$(Ma).outerHeight()+n-$(window).scrollTop(),a<=$(window).height()&&$(window).width()>960?$(Ma).addClass("animate-content"):$(Ma).removeClass("animate-content"))}if($("body").hasClass("mobile"))return!1;var a,i=$(Aa).outerHeight(),t=Aa.split(".").join(""),n=$(Ma).offset().top;$(La).hasClass(t)&&$(Ma).addClass("reveal-footer"),$(window).on("scroll",function(){e()}),$(window).on("resize",function(){i=$(Aa).outerHeight(),e()}),e()},pageFade:function(){return Da?void $(ja).not(Ea).on("click",function(e){e.preventDefault();var a=this.href;$("body").hasClass("transition-support")?$(Fa).addClass("page-fade-out").on(Wa,function(e){return e.stopPropagation(),e.target!==$(this)[0]?!1:void qa.goToNewPage(a)}):qa.goToNewPage(a)}):!1},goToNewPage:function(e){window.location=e},preloadPage:function(){$("body").preloadPage({onComplete:function(){qa.horizon(".horizon",".parallax .horizon","easeInOutQuint",!1,1)}})}};!function(){for(var e=0,a=["ms","moz","webkit","o"],i=0;i<a.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[a[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[i]+"CancelAnimationFrame"]||window[a[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var i=(new Date).getTime(),t=Math.max(0,16-(i-e)),n=window.setTimeout(function(){a(i+t)},t);return e=i+t,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),qa.init()});
